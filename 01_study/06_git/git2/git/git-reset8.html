<strong>마지막 커밋을 수정하기</strong>
히스토리를 단장하는 일 중에서는 마지막 커밋을 수정하는 것이 가장 자주 하는 일이다.
기본적으로 두 가지로 나눌 수 있는데, 하나는 단순히 커밋 메시지만을 수정하는 것이고
다른 하나는 나중에 수정한 파일을 마지막에 커밋 안에 밀어넣는 것이다.

커밋 메시지를 수정하는 방법은 매우 간단하다.

    $ git commit --amend

이 명령은 자동으로 텍스트 편집기를 실행시켜서 마지막 커밋 메시지를 열어준다.
여기에 메시지를 바꾸고 편집기를 닫으면 편집기는 바뀐 메시지로 마지막 커밋을 수정한다.

반대로 커밋 메시지가 아니라 프로젝트 내용을 수정한 경우가 있다.
커밋하고난 후 새로 만든 파일이나 수정한 파일을 가장 최근 커밋에 집어넣을 수 있다.
기본적으로 방법은 같다.
파일을 수정하고 git add 명령으로 Staging area에 넣는다.
그리고 git commit --amend 명령으로 커밋하면 커밋 자체가 수정되면서 추가로 수정사항을 밀어넣을 수 있다.

이때 SHA-1 값이 바뀌기 때문에 과거의 커밋을 변경할 때 주의해야 한다.
rebase와 같이 이미 push한 커밋은 수정하면 안된다.

<strong>Tip</strong>
<strong>커밋을 고치는 작업은 커밋 메시지 고치를 덩달아 이끌 수 있음</strong>
커밋을 고치는 것은 커밋 메시지를 고치는 것일수도 있고
또는 커밋 담고 있는 변경 내용을 고치는 것일수도 있다.
커밋을 고치는데 있어 추가된 변경 내용이 상당히 있을 경우 커밋 메시지가 충실하게 담고 있는지 확인해 볼 필요가 있다.

반대로 커밋을 고치는 내용이 오타를 살짝 고치거나 실수로 빠뜨린 것을 넣는 등 아주 사소하거나 이미 커밋 메시지가 충분히 이를 반영하고 있을 수 있다.
이런 경우 다음과 같이 --no-edit 옵션을 사용하면 커밋 메시지를 수정하도록 편집기가 실행되지는 않는다.

$ git commit --amend --no-edit