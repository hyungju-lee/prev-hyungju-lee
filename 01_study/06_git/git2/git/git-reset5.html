<strong>합치기(Squash)</strong>
여러 커밋을 커밋 하나로 합치는 재밌는 도구를 알아보자.

“oops.” 나 “WIP”, “forgot this file” 같은 깃털같이 가벼운 커밋들이 있다고 해보자.
이럴 때는 reset 명령으로 커밋들을 하나로 합쳐서 남들에게 똑똑한 척할 수 있다.
(커밋 합치기를 하는 명령어가 따로 있지만, 여기서는 reset 명령을 쓰는 것이 더 간단할 때도 있다는 것을 보여준다.)

이런 프로젝트가 있다고 생각해보자.
첫 번째 커밋은 파일 하나를 추가했고,
두 번째 커밋은 기존 파일을 수정하고 새로운 파일도 추가했다.
세 번째 커밋은 첫 번째 파일을 다시 수정했다.
두 번째 커밋은 아직 작업 중인 커밋으로 이 커밋을 세 번째 커밋과 합치고 싶은 상황이다.

<img src="img/git-workflow19.jpg" alt="">

git reset --soft HEAD~2 명령을 실행하여 HEAD 포인터를 이전 커밋으로 되돌릴 수 있다
(히스토리에서 그대로 유지할 처음 커밋 말이다).

<img src="img/git-workflow20.jpg" alt="">

이 상황에서 git commit 명령을 실행한다.

<img src="img/git-workflow21.jpg" alt="">

이제 사람들에게 공개할만한 히스토리가 만들어졌다.
file-a.txt 파일이 있는 v1 커밋이 하나 그대로 있고,
두 번째 커밋에는 v3버전의 file-a.txt 파일과 새로 추가된 file-b.txt 파일이 있다.
v2 버전은 더는 히스토리에 없다.